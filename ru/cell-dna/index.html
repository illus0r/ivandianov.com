<!DOCTYPE html><html class=""><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Эволюционный клеточный автомат · Ivan Dianov</title>
    <link rel="stylesheet" href="/styles.css">
    <!-- FIXME check if it is needed -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.css">
    <link id="favicon" rel="icon">
<script>
		let w = 3
		let h = 5
    let svg = `<svg width="128" height="128" xmlns="http://www.w3.org/2000/svg" viewBox="1 0 ${w*2} ${h}"	>`
		for(let x = 0; x < w; x++) {
			for(let y = 0; y < h; y++) {
				let color = Math.random() > 0.5 ? "#000" : "#fff"
				svg += `<rect x="${w-x}" y="${y}" width="1" height="1" fill="${color}"/>`
				svg += `<rect x="${w+x}" y="${y}" width="1" height="1" fill="${color}"/>`
			}
		}

    svg+=`</svg>`
console.log('svg:',svg)

    document.getElementById("favicon").setAttribute("href", `data:image/svg+xml,${encodeURIComponent(svg)}`)
</script>

    <!-- Yandex.Metrika counter -->
<script type="text/javascript">
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(94453443, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true
   });
</script>
<noscript></noscript></head><body><div><img src="/.11ty/image/?src=https%3A%2F%2Fmc.yandex.ru%2Fwatch%2F94453443&amp;width=1&amp;format=webp&amp;via=transform" style="position:absolute; left:-9999px;" alt="" loading="lazy" decoding="async" width="1" height="1"></div>
<!-- /Yandex.Metrika counter -->




    <header>
  <div class="nav-menu">
    
    
    
        <a class="nav-item" href="/">
          Иван Дианов
        </a>
    
      
        
        
        <a class="nav-item" href="/">
          Дизайн
        </a>
        
      
    
      
        
        
        <a class="nav-item" href="/ru/show/">
          Медиа-арт
        </a>
        
      
    
      
        
        
        <a class="nav-item" href="/ru/tutor/">
          Обучение
        </a>
        
      
    
      
        
        
        <a class="nav-item" href="/ru/about/">
          Про меня
        </a>
        
      
    
    
    
    
    
    
		
      
		
        
		
      
		
    
    
		
      
		
      
		
  </div>
</header>


    <main role="main" class="wrap prose">
        
<article class="text" role="main">
    <div class="post-header">
		<div class="meta">
    
		
	
	


<span class="progress" style="--progress: 90deg;"></span> Черновик

    </div>
    <h1 class="post-name"><span class="dance-dance"><span>Э</span><span>в</span><span>о</span><span>л</span><span>ю</span><span>ц</span><span>и</span><span>о</span><span>н</span><span>н</span><span>ы</span><span>й</span><span> </span><span>к</span><span>л</span><span>е</span><span>т</span><span>о</span><span>ч</span><span>н</span><span>ы</span><span>й</span><span> </span><span>а</span><span>в</span><span>т</span><span>о</span><span>м</span><span>а</span><span>т</span></span></h1>
    </div>
    <section class="post-content">
        <p>Цифровое генеративное искусство — это когда когда художник доверяет алгоритму принять вместо него часть решений.</p>
<p>Похоже на офорт: с печатной формы можно получить несколько оттисков. Алгоритм так же может создать множество копий: получаемые работы отличаются друг от друга, но сохраняют общую структуру. Главная сложность для художника —&nbsp;найти баланс хаоса и структуры, подобрать алгоритм, который создаёт композиции, которые разнообразны и всегда хороши.</p>
<p>Отдельный класс генеративных систем — эмерджентные. В них простые правила взаимодействия частиц приводит к сложному поведению и формированию паттернов, которые сложно предсказать заранее. Примеры таких систем — симуляции физических и биологических процессов.</p>
<!-- В нашей работе мы объединяем модель эволюционирующей клеточной культуры с данными электроэнцефалограмм художников и посетителей выставок. -->
<h2><span class="dance-dance"><span>У</span><span>р</span><span>о</span><span>в</span><span>н</span><span>и</span><span> </span><span>м</span><span>о</span><span>д</span><span>е</span><span>л</span><span>и</span><span>р</span><span>о</span><span>в</span><span>а</span><span>н</span><span>и</span><span>я</span></span></h2>
<p>В модели несколько уровней:</p>
<ul>
<li>Физический</li>
<li>Биологический</li>
<li>Когнитивный</li>
</ul>
<p><strong>На физическом уровне</strong> есть <em>одноклеточные организмы</em>, у каждого — свои скорость и положение. Пространство разбито на крошечные ячейки-пиксели, каждый из которых хранит данные лишь об одном организме.</p>
<p>[Тут видео клеток крупным кланом]</p>
<p><strong>На биологическом уровне</strong> в модели появляется энергия. Организмы расходуют её на движение, при размножении энергия делится между потомками. Без энергии организмы погибают.</p>
<p>Получить энергию они могут либо из среды, либо поедая соседей: когда несколько организмов попадают в одну ячейку пространства, выживает только один, тот, у которого больше энергии. Он съедает остальных пополняет запас энергии.</p>
<p><strong>На когнитивном уровне</strong> — у организмов есть геном, определяющий их поведение и цвет.</p>
<p>Геном состоит из 64 чисел от 1 до 64. Значения могут восприниматься организмом как команды, например:</p>
<ul>
<li>ускориться,</li>
<li>замедлиться,</li>
<li>повернуть,</li>
<li>проверять свой баланс энергии,</li>
<li>получить энергию из окружающего пространства,</li>
<li>размножиться</li>
</ul>
<p>Есть ещё команда условного перехода к другой части ДНК при выполнении определённых условий. Это делает поведение организмов зависимым от условий: уровня энергии организма и градиента питательных веществ в среде.</p>
<p>Значения генома могут служить не только командами, но и параметрами команд. Например, на какой именно угол повернуть или с какой вероятностью мутировать при размножении.</p>
<p>Вначале ДНК набирается из случайных кусочков ЭЭГ. Большинство организмов гибнет сразу же: одни не питаются, другие тратят энергию на движение или размножение быстрее, чем накапливают.</p>
<p>Среди множества организмов со случайными комбинациями ДНК выживают лишь немногие, они дают начало «островкам» своих популяций.</p>
<p>Геном каждого организма передаётся потомкам с небольшими изменениями, таким образом популяция увеличивает внутреннее разнообразие и адаптируется к меняющимся условиям.</p>
<!-- **ЭЭГ** -->
<!-- Мозговая активность художников и посетителей выставки меняет среду, в которой живут организмы: насыщенность энергией, вязкость, маневренность, мутагенность, силу взаимного отталкивания организмов. Данные каждого из 19 электродов определяют параметры своего участка картины, создаваемой генеративным алгоритмом. Положения участков соответствуют положению датчиков на голове. -->
<!-- Изменения среды видны косвенно, через изменения в популяциях. -->
<!-- Моментальные данные ЭЭГ задают начальные значений генома. -->
<h2><span class="dance-dance"><span>Р</span><span>е</span><span>а</span><span>л</span><span>и</span><span>з</span><span>а</span><span>ц</span><span>и</span><span>я</span></span></h2>
<p>Скрипт написан на Javascript с WebGL. Параметры организмов и их ДНК хранятся в восьми float текстурах. Данные ЭЭГ быстрым преобразованием Фурье раскладываются по частотам, агрегируются и передаются в шейдер. Вычисление происходит в браузере в реальном времени.</p>
<p>Потом подробнее напишу про:</p>
<ul>
<li><a href="#frag">Частицы на фрагментном шейдере</a></li>
<li>Устройство «ДНК»-программы
<ul>
<li><a href="#data">Хранение данных</a></li>
<li>Интерпретация программы</li>
<li>Команды и параметры</li>
<li>Условия</li>
</ul>
</li>
<li>Размножение</li>
<li>Мутации</li>
</ul>
<h2 id="frag"><span class="dance-dance"><span>Ч</span><span>а</span><span>с</span><span>т</span><span>и</span><span>ц</span><span>ы</span><span> </span><span>н</span><span>а</span><span> </span><span>ф</span><span>р</span><span>а</span><span>г</span><span>м</span><span>е</span><span>н</span><span>т</span><span>н</span><span>о</span><span>м</span><span> </span><span>ш</span><span>е</span><span>й</span><span>д</span><span>е</span><span>р</span><span>е</span></span></h2>
<p><video controls="" muted="" loop="" preload="auto"><source src="/assets/media/cell-dna-1.mp4" type="video/mp4"></video></p>
<p>Идею алгоритма взял <a href="https://michaelmoroz.github.io/Reintegration-Tracking/">из блога Михайло Мороза</a>: четыре канала пикселя (RGBA) можно использовать для хранения координат и скорости частицы на плоскости. Интересно сравнить такой способ с более популярным способом управления частицами — вершинным шейдером.</p>
<table>
<thead>
<tr>
<th></th>
<th>Частицы на вершинном шейдере</th>
<th>На фрагментном</th>
</tr>
</thead>
<tbody>
<tr>
<td>Идея</td>
<td>Частица вычисляет свои координаты</td>
<td>Пиксель вычисляет положение и скорость своей частицы, если она там есть.</td>
</tr>
<tr>
<td>Хранение данных</td>
<td>В FBO или буфере</td>
<td>Частица в пикселе, который хранит информацию о ней</td>
</tr>
<tr>
<td>Макс. скорость</td>
<td>Любая</td>
<td>𝓋=1…~3px. Каждый пиксель проверяет, не прилетела ли в него него частица из 𝛑𝓋² соседей</td>
</tr>
<tr>
<td>Число частиц</td>
<td>Фиксировано. Тормоза начинаются после 1M, зависит от сложности их поведения</td>
<td>Может меняться. Число частиц ограничено числом пикселей текстуры, их число не влияет на скорость. На скорость влияет только число проверяемых соседей</td>
</tr>
<tr>
<td>Взаимодействие</td>
<td>Частица не знает, есть ли другие рядом</td>
<td>Частица может заглянуть в соседние пиксели и повзаимодействовать с их содержимым</td>
</tr>
<tr>
<td>Столкновение</td>
<td>Не сталкиваются.</td>
<td>Если две частицы залетят в один пиксель, одна из них затрёт другую</td>
</tr>
<tr>
<td>Сложность дебага</td>
<td>ᕕ( ᐛ )ᕗ</td>
<td>(ノಠ益ಠ)ノ彡┻━┻</td>
</tr>
</tbody>
</table>
<p>Для симуляции клеточной жизни фрагментный шейдер удобнее: они могут неограниченно размножаться, притягиваться или отталкиваться.</p>
<h2 id="data"><span class="dance-dance"><span>Х</span><span>р</span><span>а</span><span>н</span><span>е</span><span>н</span><span>и</span><span>е</span><span> </span><span>д</span><span>а</span><span>н</span><span>н</span><span>ы</span><span>х</span></span></h2>
<p><img src="/.11ty/image/?src=assets%2Fmedia%2F2023-02-22-02-11-58.jpg&amp;width=512&amp;format=webp&amp;via=transform" alt="" loading="lazy" decoding="async" width="1024" height="976" srcset="/.11ty/image/?src=assets%2Fmedia%2F2023-02-22-02-11-58.jpg&amp;width=512&amp;format=webp&amp;via=transform 512w, /.11ty/image/?src=assets%2Fmedia%2F2023-02-22-02-11-58.jpg&amp;width=1024&amp;format=webp&amp;via=transform 1024w" sizes="auto">
<span class="caption">На картинке куча мелких клеточек, каждая выделяет цветные вещества. Какие — зависит от ДНК, также как и поведение клетки: повороты, изменение скорости. Гены передаются потомкам при делении</span></p>
<p>Мне понравилась <a href="https://www.youtube.com/watch?v=jXa5IASmlkg">идея ТехноШамана про интерпретацию ДНК</a>. В двух словах. У каждой клетки есть «ДНК» — массив из 64 элементов, каждый из которых может принимать одно из 64 значений. Ещё клетка помнит номер текущей своей команты. А команды могут быть как простые: «сдвинуться», «размножиться», так и хитрые: «если энергии больше 10 единиц, перейти к команде номер 5, иначе — к команде 43».</p>
<p>У моей реализации два главных отличия: код выполняется на шейдере (можно больше клеток быстрее вычислять) и есть физика: клетки живут не в сетке а на непрерывной плоскости, могут плавно ускоряться и тормозить. Ещё хочу добавить реакцию на феромоны.</p>

    </section>
</article>

<script src="https://utteranc.es/client.js" repo="illus0r/ivandianov.com" issue-term="pathname" label="blog-comment" theme="github-light" crossorigin="anonymous" async="">
</script>

    </main>

    <footer>
  <section class="copyright">© <a href="/">Иван Дианов</a> 2021—∞ ·
		<a href="/ru/blog/">Блог</a> ·
		<a href="https://t.me/ivandianov">Канал в телеге</a> про генеративный арт, алгоритмы и жизнь</section>
</footer>


    <script src="/assets/js/dance-dance.js" type="module"></script>
    


</body></html>